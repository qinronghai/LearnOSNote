##  进程调度的时机

进程调度（低级调度），就是按照某种算法从就绪队列中选择一个进程为其分配处理机。

那什么时候需要进程调度与切换呢？

1. 当前运行的进程**主动放弃**处理机
	1. 进程正常中止
	2. 运行过程中发生异常而中止
	3. 进程主动请求阻塞（如等待I/O）
2. 当前运行的进程**被动放弃**处理机
	1. 分给进程的时间片用完
	2. 有更紧急的事需要处理(如/O中断)
	3. 有更高优先级的进程进入就绪队列

也不是任何时候都可以进行进程的调度和切换，比如：

1. 在处理中断的过程中。中断处理过程复杂，与硬件密切相关，很难
	做到在中断处理过程中进行进程切换
2. 进程在操作系统内核程序临界区中。
3. 在原子操作过程中（原语）。原子操作不可中断，要一气呵成（如
	之前讲过的修改PCB中进程状态标志，并把PCB放到相应队列）

##  进程调度的方式

###  非抢占调度方式

非剥夺调度方式，又称非抢占方式。即，只允许进程主动放弃处理机。在运行过程中即便有更紧迫的任务到达，当前进程依然会继续使用处理机，直到该进程终止或主动要求进入阻塞态。

实现简单，系统开销小但是无法及时处理紧急任务，适合于早期的批处理系统

###  抢占调度方式

剥夺调度方式，又称抢占方式。当一个进程正在处理机上执行时，如果有一个更重要或更紧迫的进程需要使用处理机，则立即暂停正在执行的进程，将处理机分配给更重要紧迫的那个进程。

可以优先处理更紧急的进程，也可实现让各进程按时间片轮流执行的功能（通过时钟中断）。适合于分时操作系统、实时操作系统

##  进程调度的实现过程

课本p57

1. 保存现场
2. 挑选进程
3. 恢复现场

注意：进程切换是有代价的，因此如果过于频繁的进行进程调度、切换，必然会使整个系统的效率降低，使系统大部分时间都花在了进程切换上，而真正用于执行进程的时间减少。